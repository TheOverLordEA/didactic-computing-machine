<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/normalize.css" />
    <!-- Link to Pico.css -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/@picocss/pico@1.*/css/pico.min.css"
    />
    <!-- Link and script to MapBox  -->
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css"
      rel="stylesheet"
    />

    <script src="js/main.js" defer></script>

    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <nav>
        <ul>
          <li class="burger-menu">
            <button>
              <svg viewBox="0 0 100 80" width="40" height="40">
                <rect width="100" height="20"></rect>
                <rect y="30" width="100" height="20"></rect>
                <rect y="60" width="100" height="20"></rect>
              </svg>
            </button>
          </li>
          <li class="nav-items-container">
            <div class="items">
              <h1>My Neighborhood</h1>
              <input type="text" placeholder="Filter locations" />
              <ul class="list-item"></ul>
            </div>
          </li>
        </ul>
      </nav>
    </div>
    <div id="map"></div>
    <script>
      mapboxgl.accessToken =
        "pk.eyJ1IjoidGhlb3ZlcmxvcmRlYSIsImEiOiJjbGVucTBqOW0wMWx2M3dvNGttNDd3NGo4In0.MGR_mYJxWShD9i3Zvi_DfA";
      var map = new mapboxgl.Map({
        container: "map",
        style: "mapbox://styles/theoverlordea/clensrfsf000d01o8dse06o1b",
        center: [-122.267055, 37.870047],
        zoom: 13,
      });

      // Create popup
      const popupBerkeley = [
        {
          name: "BollyWood Indian TakeOut",
          lngLat: [-122.259813, 37.8757],
        },
        {
          name: "La Italy",
          lngLat: [-122.261449, 37.875569],
        },
        {
          name: "Pat Brown Grille",
          lngLat: [-122.26485, 37.873515],
        },
        {
          name: "Free House",
          lngLat: [-122.251841, 37.871017],
        },
        {
          name: "Yali Cafe",
          lngLat: [-122.256476, 37.873981],
        },
      ];

      const ulElement = document.querySelector(".list-item");

      // DOM element for marker
      const el = document.createElement("div");
      el.id = "marker";

      //Marker Berkeley Restraunt
      popupBerkeley.forEach(({ name, lngLat }) => {
        const popup = new mapboxgl.Popup({ offSet: 25 }).setText(name);
        new mapboxgl.Marker().setLngLat(lngLat).setPopup(popup).addTo(map);
      });

      window.addEventListener("load", () => {
        popupBerkeley.forEach((el) => {
          let li = document.createElement("li");
          li.innerText = el.name;
          ulElement.appendChild(li);
        });
      });
    </script>
  </body>
</html>
